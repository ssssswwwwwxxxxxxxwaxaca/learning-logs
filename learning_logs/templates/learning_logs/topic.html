<!-- filepath: f:\web_python\ll_project\learning_logs\templates\learning_logs\topic.html -->
{% extends "learning_logs/base.html" %} {% block content %}
<div class="container">
  <div class="text-center mb-4">
    <a
      href="{% url 'learning_logs:new_entry' topic.id %}"
      class="btn btn-success"
    >
      Add a New Entry
    </a>
  </div>
  {% for entry in entries %}
  <div class="card mb-4 shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span class="fw-bold">{{ entry.date_added|date:'M d, Y H:i' }}</span>
      <div>
        <!-- 编辑按钮 -->
        <a
          href="{% url 'learning_logs:edit_entry' entry.id %}"
          class="btn btn-sm btn-outline-primary"
        >
          Edit Entry
        </a>
        <!-- 删除按钮 -->
        <form
          method="post"
          action="{% url 'learning_logs:delete_entry' entry.id %}"
          class="d-inline"
        >
          {% csrf_token %}
          <button
            type="submit"
            class="btn btn-sm btn-outline-danger"
            onclick="return confirm('Are you sure you want to delete this entry?');"
          >
            Delete Entry
          </button>
        </form>
        <!-- 评论按钮 -->
        <a
          href="{% url 'learning_logs:entry_comments' entry.id %}"
          class="btn btn-sm btn-outline-info"
        >
          Comments
        </a>
      </div>
    </div>
    <div class="card-body">
      <p class="card-text">{{ entry.text|linebreaks }}</p>
    </div>
  </div>
  {% empty %}
  <div class="alert alert-warning text-center" role="alert">
    There are no entries for this topic yet.
  </div>
  {% endfor %}
</div>
{% endblock content %}
